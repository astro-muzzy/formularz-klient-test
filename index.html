<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Formularz rozmowy z klientem</title>

  <style>
    :root{
      --border:#d0d7de;
      --border-strong:#9aa4af;
      --bg:#ffffff;
      --bg-soft:#f6f8fa;
      --text:#111827;
      --muted:#6b7280;
      --focus:#2563eb;
    }

    *{ box-sizing:border-box; }

    body{
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      margin: 24px;
      color: var(--text);
      background: var(--bg);
    }

    .page{
      max-width: 1100px;
      margin: 0 auto;
    }

    .header{
      display: flex;
      gap: 16px;
      align-items: flex-start;
      justify-content: space-between;
      margin-bottom: 14px;
    }

    .title{
      margin: 0;
      font-size: 20px;
      font-weight: 800;
      letter-spacing: .2px;
    }

    .subtitle{
      margin: 6px 0 0 0;
      color: var(--muted);
      font-size: 13px;
      line-height: 1.35;
    }

    .actions{
      display: flex;
      gap: 10px;
      align-items: center;
      flex-wrap: wrap;
    }

    .btn{
      border: 1px solid var(--border);
      background: #fff;
      padding: 9px 12px;
      border-radius: 12px;
      font-weight: 600;
      font-size: 13px;
      cursor: pointer;
      transition: box-shadow .15s, border-color .15s, transform .02s;
      user-select: none;
    }
    .btn:hover{
      border-color: var(--border-strong);
      box-shadow: 0 8px 22px rgba(0,0,0,.08);
    }
    .btn:active{ transform: translateY(1px); }

    .card{
      border: 1px solid var(--border);
      border-radius: 16px;
      background: #fff;
      box-shadow: 0 10px 28px rgba(0,0,0,.06);
      overflow: hidden;
      margin-bottom: 14px;
    }

    .card-head{
      padding: 12px 14px;
      background: linear-gradient(#ffffff, var(--bg-soft));
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }
    .card-head .label{
      font-weight: 800;
      font-size: 13px;
      letter-spacing: .2px;
      color:#0f172a;
    }
    .card-head .meta{
      font-size: 12px;
      color: var(--muted);
    }

    .grid{
      padding: 14px;
      display: grid;
      gap: 12px;
      grid-template-columns: repeat(12, 1fr);
    }

    .field{
      grid-column: span 3;
      min-width: 0;
    }
    .field.w6{ grid-column: span 6; }
    .field.w4{ grid-column: span 4; }
    .field.w8{ grid-column: span 8; }
    .field.w12{ grid-column: span 12; }

    .field label{
      display:block;
      font-size: 12px;
      font-weight: 700;
      color:#0f172a;
      margin: 0 0 6px 2px;
    }

    input[type="text"], input[type="tel"], input[type="email"], input[type="date"], input[type="time"], textarea, select{
      width: 100%;
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 9px 10px;
      font-size: 14px;
      outline: none;
      background: #fff;
      transition: border-color .15s, box-shadow .15s;
    }

    textarea{
      min-height: 70px;
      resize: vertical;
    }

    input:focus, textarea:focus, select:focus{
      border-color: var(--focus);
      box-shadow: 0 0 0 4px rgba(37,99,235,.12);
    }

    /* tabela */
    .table-wrap{
      border-top: 1px solid var(--border);
    }

    table{
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
      table-layout: fixed;
    }

    thead th{
      position: sticky;
      top: 0;
      z-index: 1;
      background: linear-gradient(#ffffff, var(--bg-soft));
      border-bottom: 1px solid var(--border);
      padding: 10px 8px;
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: .6px;
      color: #0f172a;
      text-align: center;
    }

    tbody td{
      border-bottom: 1px solid var(--border);
      border-right: 1px solid var(--border);
      padding: 8px;
      vertical-align: middle;
      background: #fff;
    }
    tbody tr td:first-child{ border-left: 1px solid var(--border); }

    tbody tr:nth-child(even) td{ background:#fbfcfe; }
    tbody tr:hover td{ background:#f2f6ff; }

    .cell-input{
      width: 100%;
      height: 34px;
      padding: 7px 10px;
      border: 1px solid var(--border);
      border-radius: 10px;
      outline: none;
      font-size: 13px;
      background: #fff;
      transition: border-color .15s, box-shadow .15s;
    }
    .cell-input:focus{
      border-color: var(--focus);
      box-shadow: 0 0 0 4px rgba(37,99,235,.12);
    }

    td.cb{
      text-align: center;
    }
    input[type="checkbox"]{
      width: 18px;
      height: 18px;
      accent-color: var(--focus);
      cursor: pointer;
    }

    /* szeroko≈õci: 6 kolumn tekst + 2 checkbox */
    thead th:nth-child(1){ width: 60px; }  /* LP */
    thead th:nth-child(2){ width: 180px; } /* Temat */
    thead th:nth-child(3){ width: 150px; } /* Kwota */
    thead th:nth-child(4){ width: 160px; } /* Produkt */
    thead th:nth-child(5){ width: 230px; } /* Notatka */
    thead th:nth-child(6){ width: 160px; } /* Termin */
    thead th:nth-child(7),
    thead th:nth-child(8){ width: 78px; }  /* TAK/NIE */

    .hint{
      padding: 10px 14px 14px 14px;
      color: var(--muted);
      font-size: 12px;
      border-top: 1px dashed var(--border);
      background: #fff;
    }

    @media (max-width: 980px){
      .field{ grid-column: span 6; }
      .field.w6{ grid-column: span 12; }
      .field.w8{ grid-column: span 12; }
      .field.w4{ grid-column: span 6; }
    }

    /* druk */
@media print {

  /* 1) A4 pion + sensowne marginesy */
  @page {
    size: A4 portrait;
    margin: 12mm;
  }

  body{
    margin: 0;
    background: #fff;
  }

  .page{
    width: 100%;
    max-width: none;
  }

  /* 2) WY≈ÅƒÑCZ sticky (wa≈ºne!) */
  thead th{
    position: static !important;
    background: #fff !important;
  }

  /* 3) SKALOWANIE CA≈ÅEJ STRONY */
  .page{
    transform: scale(0.88);          /* üëà kluczowe */
    transform-origin: top left;
  }

  /* kompensacja szeroko≈õci po skalowaniu */
  .page{
    width: 114%;
  }

  /* 4) tabela MUSI siƒô zmie≈õciƒá */
  table{
    width: 100% !important;
    table-layout: auto !important;
  }

  thead th,
  tbody td{
    border-color: #000 !important;
  }

  /* 5) odchudzamy wszystko na wydruk */
  thead th{
    font-size: 10px;
    padding: 4px 3px;
  }

  tbody td{
    padding: 3px 3px;
  }

  input,
  textarea,
  select,
  .cell-input{
    border: 0 !important;
    box-shadow: none !important;
    background: transparent !important;
    padding: 0 !important;
    height: auto !important;
    font-size: 10.5px !important;
  }

  /* 6) zapobiegaj rozrywaniu wierszy */
  tr{
    page-break-inside: avoid;
    break-inside: avoid;
  }

  /* 7) elementy niedrukowane */
  .actions,
  .hint{
    display: none !important;
  }
}
  </style>
</head>

<body>
<div class="page">

  <div class="header">
    <div>
      <h1 class="title">Formularz rozmowy z klientem</h1>
      <p class="subtitle">
        U≈ºyj <b>Ctrl+P</b> ‚Üí ‚ÄûZapisz jako PDF‚Äù lub wydrukuj.
      </p>
    </div>

    <div class="actions">
      <button class="btn" type="button" onclick="window.print()">Drukuj / PDF</button>
      <button class="btn" type="button" id="addRowBtn">Dodaj wiersz</button>
      <button class="btn" type="button" id="resetBtn">Wyczy≈õƒá</button>
    </div>
  </div>

  <!-- DANE SPOTKANIA / KLIENTA -->
  <section class="card">
    <div class="card-head">
      <div class="label">Dane spotkania</div>
      <div class="meta">Wersja: 1.0</div>
    </div>

    <div class="grid">
      <div class="field w6">
        <label>Imiƒô i nazwisko klienta</label>
        <input type="text" placeholder="np. Jan Kowalski">
      </div>

      <div class="field w6">
        <label>Telefon</label>
        <input type="tel" placeholder="np. 600 000 000">
      </div>

      <div class="field w6">
        <label>E-mail</label>
        <input type="email" placeholder="np. jan@domena.pl">
      </div>

      <div class="field w6">
        <label>Preferowany kontakt</label>
        <select>
          <option value="">‚Äî wybierz ‚Äî</option>
          <option>Telefon</option>
          <option>E-mail</option>
          <option>SMS</option>
          <option>WhatsApp</option>
        </select>
      </div>

      <div class="field w4">
        <label>Data</label>
        <input type="date">
      </div>

      <div class="field w4">
        <label>Godzina</label>
        <input type="time">
      </div>

      <div class="field w4">
        <label>Miejsce / kana≈Ç</label>
        <select>
          <option value="">‚Äî wybierz ‚Äî</option>
          <option>Biuro</option>
          <option>Telefon</option>
          <option>Online</option>
        </select>
      </div>

      <div class="field w12">
        <label>Kr√≥tki opis potrzeb / celu spotkania</label>
        <textarea placeholder="np. zakup mieszkania, refinansowanie, konsolidacja..."></textarea>
      </div>
    </div>
  </section>

  <!-- TABELA ROBOCZA -->
  <section class="card">
    <div class="card-head">
      <div class="label">Ustalenia i propozycje</div>
      <div class="meta">7 wierszy / 8 kolumn (2 checkbox)</div>
    </div>

    <div class="table-wrap">
      <table>
        <thead>
          <tr>
            <th>LP</th>
            <th>Temat</th>
            <th>Kwota</th>
            <th>Produkt</th>
            <th>Notatka</th>
            <th>Termin</th>
            <th>TAK</th>
            <th>NIE</th>
          </tr>
        </thead>

        <tbody id="rows">
          <!-- 7 wierszy startowych -->
        </tbody>
      </table>
    </div>

    <div class="hint">
      Mo≈ºesz zaznaczyƒá tylko jedno pole (TAK albo NIE).
    </div>
  </section>

</div>

<script>
  const rowsEl = document.getElementById('rows');
  const addRowBtn = document.getElementById('addRowBtn');
  const resetBtn = document.getElementById('resetBtn');

  function makeRow(index){
    const tr = document.createElement('tr');

    tr.innerHTML = `
      <td><input class="cell-input" type="text" value="${index}" aria-label="LP"></td>
      <td><input class="cell-input" type="text" placeholder="np. cel / potrzeba"></td>
      <td><input class="cell-input" type="text" placeholder="np. 350 000"></td>
      <td><input class="cell-input" type="text" placeholder="np. hipoteczny"></td>
      <td><input class="cell-input" type="text" placeholder="kr√≥tka notatka"></td>
      <td><input class="cell-input" type="text" placeholder="np. do piƒÖtku"></td>
      <td class="cb"><input type="checkbox" class="yn" data-type="yes" aria-label="TAK"></td>
      <td class="cb"><input type="checkbox" class="yn" data-type="no" aria-label="NIE"></td>
    `;

    // tylko jeden checkbox w wierszu
    const yes = tr.querySelector('input[data-type="yes"]');
    const no  = tr.querySelector('input[data-type="no"]');

    yes.addEventListener('change', () => {
      if (yes.checked) no.checked = false;
    });
    no.addEventListener('change', () => {
      if (no.checked) yes.checked = false;
    });

    return tr;
  }

  function renumber(){
    [...rowsEl.querySelectorAll('tr')].forEach((tr, i) => {
      const lpInput = tr.querySelector('td:first-child input');
      lpInput.value = (i + 1);
    });
  }

  // start: 7 wierszy
  for(let i=1; i<=7; i++){
    rowsEl.appendChild(makeRow(i));
  }

  addRowBtn.addEventListener('click', () => {
    rowsEl.appendChild(makeRow(rowsEl.children.length + 1));
    renumber();
  });

  resetBtn.addEventListener('click', () => {
    // czy≈õci wszystkie inputy/checkboxy poza LP
    rowsEl.querySelectorAll('tr').forEach((tr, i) => {
      tr.querySelectorAll('input').forEach((inp, idx) => {
        if (idx === 0) { inp.value = (i + 1); return; } // LP
        if (inp.type === 'checkbox') inp.checked = false;
        else inp.value = '';
      });
    });

    document.querySelectorAll('input[type="text"], input[type="tel"], input[type="email"], input[type="date"], input[type="time"], textarea, select')
      .forEach(el => {
        if (el.tagName === 'SELECT') el.value = '';
        else el.value = '';
      });
  });
</script>
</body>
</html>

